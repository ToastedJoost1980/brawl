<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="apple-touch-icon" href="icon.png">
<title>Brawlers Nightmare</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #0e0e0e;
    color: #eee;
    font-size: 20px;
    padding: 15px;
}
select {
    padding: 25px;
    font-size: 20px;
    margin: 20px 0;
    width: 400px;
}
#result {
    margin-top: 20px;
    font-size: 20px;
    color: #00ff99;
    white-space: pre-line;
}
</style>
</head>

<body>

<p>Select map type:</p>
<select id="mapType">
    <option value="open">Open Map</option>
    <option value="closed">Closed Map</option>
</select><br><br>

<p>Select the enemy team:</p>
<select id="enemy1"></select><br>


<div id="result"></div>

<script>
// === FULL BRAWLER LIST ===
const brawlers = [
"None",
  "8-Bit",  "Alli",  "Amber",  "Angelo",  "Ash",  "Barley",
  "Bea",  "Belle",  "Berry",  "Bibi",  "Bo",  "Bonnie",  "Brock",
  "Bull",  "Buster",  "Buzz",  "Byron",  "Carl",  "Charlie",
  "Chester",  "Chuck",  "Clancy",  "Colette",  "Colt",
  "Cordelius",  "Crow",  "Darryl",  "Doug",  "Draco",
  "Dynamike",  "Edgar",  "El Primo",  "EMZ",  "Eve", "Fang",
  "Finx",  "Frank",  "Gale",  "Gene",  "Gigi",
  "Gray",  "Griff",  "Grom",  "Gus",  "Hank",  "Jacky",  "Jae-Yong",  "Janet",  "Jessie",  "Juju",
  "Kaze",  "Kenji",  "Kit",  "Larry & Lawrie",  "Leon",  "Lily",  "Lola",  "Lou",  "Lumi",  "Maisie",
  "Mandy",  "Max",  "Meg",  "Meeple",  "Melodie",  "Mico",  "Mortis",  "Mr. P",  "Nani",
  "Nita",  "Ollie",  "Otis",  "Pam",  "Pearl",  "Penny",  "Pierce",  "Piper",  "Poco",  "R-T",
  "Rico",  "Rosa",  "Ruffs",  "Sam",  "Sandy",  "Shade",  "Shelly",  "Shock",  "Spike",
  "Sprout",  "Squeak",  "Stu",  "Surge",  "Tara",  "Tick",  "Trunk",  "Willow",  "Ziggy"
];

const MID_BRAWLERS = [
  "8-bit","amber","ash","barley","belle","bo","byron","crow",
  "darryl","doug","emz","eve","finx","gene","gigi","gray",
  "griff","grom","gus","janet","juju","kit","lily","lola",
  "lou","lumi","maisie","mandy","max","meg","meeple","melodie",
  "mico","mr. p","nani","pam","poco","r-t","sandy","spike",
  "tara","willow","ziggy"
];

const LANE_BRAWLERS = [
  "alli","angelo","bea","berry","bibi","bonnie","brock","buzz",
  "carl","charlie","chester","chuck","clancy","colette","colt",
  "cordelius","draco","dynamike","edgar","el primo","fang","frank",
  "gale","hank","jacky","jessie","kenji","kaze","larry & lawrie",
  "leon","mortis", "nita","ollie","otis","pearl","penny","pierce","piper",
  "rico","rosa","ruffs","sam","shade","shelly","shock","sprout",
  "squeak","stu","surge","tick","trunk"
];



// populate dropdowns
["enemy1"].forEach(id => {
    const select = document.getElementById(id);
    brawlers.forEach(b => {
        const opt = document.createElement("option");
        opt.value = b.toLowerCase();
        opt.textContent = b;
        select.appendChild(opt);
    });
});

// prevent duplicate selection
function updateDropdowns() {
    const selected = new Set([
        enemy1.value
    ]);

    ["enemy1"].forEach(id => {
        const select = document.getElementById(id);
        const currentValue = select.value;
        select.innerHTML = "";

        brawlers.forEach(b => {
            const val = b.toLowerCase();
            if (val === "none" || val === currentValue || !selected.has(val)) {
                const opt = document.createElement("option");
                opt.value = val;
                opt.textContent = b;
                select.appendChild(opt);
            }
        });

        select.value = currentValue;
    });
}

function getRole(brawler) {
    const name = brawler.toLowerCase();
    if (MID_BRAWLERS.includes(name)) return "Center";
    if (LANE_BRAWLERS.includes(name)) return "Lane";
    return "Flex";
}

function suggest() {
    const enemies = [enemy1.value];
    const mapType = document.getElementById("mapType").value;

    let picks = new Set();
    let laneCount = 0;
    let midCount = 0;

    function addPick(brawler) {
        if (!picks.has(brawler)) {
            picks.add(brawler);
            if (LANE_BRAWLERS.includes(brawler.toLowerCase())) laneCount++;
            if (MID_BRAWLERS.includes(brawler.toLowerCase())) midCount++;
        }
    }

    enemies.forEach(enemy => {

    if (enemy === "edgar" || enemy === "mortis" || enemy === "fang" || enemy === "sam") {
        addPick("Shelly"); // strong close-range burst
        addPick("Gale");   // mid-range control, knockback
        if (mapType !== "closed") {
            addPick("Spike");    // safe ranged poke on open maps
        } else {
            addPick("Colette");  // melee-range burst on tight/closed maps
        }
    }
    else if (
        enemy === "frank" || enemy === "bull" || enemy === "el primo" || enemy === "meg" ||  
        enemy === "rosa" || enemy === "jacky" || enemy === "hank" || enemy === "clancy" || enemy === "trunk" 
    ) {
        addPick("Colette");
        addPick("Spike");
        addPick("Shelly");
    }
//BIBI
    else if (enemy === "bibi") {
			addPick("Hank");
			addPick("Rico");
    }

    else if (enemy === "emz") {
        if (mapType !== "closed") {
            addPick("Piper");
            addPick("Belle");
			addPick("Mortis");
        } else {
            
            addPick("Spike");
            addPick("Shelly");
        }
    }

    else if (
        enemy === "tick" || enemy === "dynamike" || enemy === "barley" ||
        enemy === "sprout" || enemy === "grom" || enemy === "willow" || enemy === "Larry & Lawrie"  ||  
        enemy === "Juju"
    ) {
        addPick("Mortis");
        addPick("Edgar");
        addPick("Mico");
    }
	
    else if (
        enemy === "mico"
    ) {
        addPick("Hank");
		addPick("Mortis");
        addPick("Edgar");
    }
	//SNIPERS
    else if ( 
        enemy === "piper" || enemy === "belle" || enemy === "mandy" || enemy === "nani" || enemy === "maisie"
    ) {
        if (mapType !== "closed") {
            addPick("Mortis");
            addPick("Leon");
            addPick("Edgar");
        } else {
            addPick("Spike");
            addPick("Shelly");
        }
    } 

    else if (enemy === "pam" || enemy === "poco" || enemy === "doug") {
        addPick("Crow");
        addPick("Spike");
    }

    else if (
        enemy === "gene" || enemy === "sandy" || enemy === "tara" ||
        enemy === "mr. p" || enemy === "gray"
    ) {
        addPick("Crow");
        addPick("Spike");
        if (mapType !== "closed") addPick("Piper");
    }

    else if (
        enemy === "colt" || enemy === "rico" || enemy === "griff" ||
        enemy === "pearl" || enemy === "amber"
    ) {
		addPick("Crow");
        addPick("Spike");
        if (mapType !== "closed") addPick("Piper");
    }
	else if (enemy === "ash") {
        addPick("Shelly");
        addPick("Spike");
		addPick("Colette");
    }
	else if (enemy === "bea") {
        addPick("Mortis");
        addPick("Edgar");
		addPick("Crow");
    }
	else if (enemy === "bo") {
        addPick("Mortis");
        addPick("Edgar");
    }
	else if (enemy === "bonnie") {
        addPick("Spike");
        addPick("Shelly");
		addPick("Surge");
    }
	else if (enemy === "crow") {
        if (mapType !== "closed") {
            addPick("Piper");
            addPick("Mandy");
        } else {
            addPick("Shelly");
            addPick("Surge");
        }
    }
	else if (enemy === "8-bit") {
        addPick("Griff");
        addPick("Edgar");
		addPick("Mortis");
    }
	else if (enemy === "mortis") {
        addPick("Shelly");
        addPick("Bull");
    }
});


    // === ROLE-AWARE FALLBACK ===
    const CLOSED_LANE = ["Shelly","Mortis","Edgar","Shade"];
    const CLOSED_MID  = ["Spike","Jacky","Poco"];
    const OPEN_LANE   = ["Piper","Edgar","Mandy"];
    const OPEN_MID    = ["Mr. P","Spike","EMZ"];

    const fallbackLane = mapType === "closed" ? CLOSED_LANE : OPEN_LANE;
    const fallbackMid  = mapType === "closed" ? CLOSED_MID  : OPEN_MID;

    if (picks.size === 0) {
        addPick(fallbackMid[0]);
        addPick(fallbackLane[0]);
        addPick(fallbackLane[1]);
    }

    while (picks.size < 4) {
        if (midCount === 0) {
            fallbackMid.forEach(b => addPick(b));
        } else {
            fallbackLane.forEach(b => addPick(b));
        }
    }

    document.getElementById("result").innerText =
    "Recommended Picks:\n• " +
    [...picks]
        .map(b => `${b} (${getRole(b)})`)
        .join("\n• ");
}

// init
window.onload = () => {
    updateDropdowns();
    suggest();
};

// auto update
["enemy1","mapType"].forEach(id => {
    document.getElementById(id).addEventListener("change", () => {
        updateDropdowns();
        suggest();
    });
});
</script>

</body>
</html>















