<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="apple-touch-icon" href="icon.png">
<title>Brawler Nightmare</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #0e0e0e;
    color: #eee;
    font-size: 50px;
    padding: 15px;
}
select {
    padding: 25px;
    font-size: 50px;
    margin: 20px 0;
    width: 400px;
}
#result {
    margin-top: 20px;
    font-size: 50px;
    color: #00ff99;
    white-space: pre-line;
}
</style>
</head>

<body>

<p>Select map type:</p>
<select id="mapType">
    <option value="open">Open Map</option>
    <option value="closed">Closed Map</option>
</select><br><br>

<p>Select the enemy team:</p>
<select id="enemy1"></select><br>
<select id="enemy2"></select><br>
<select id="enemy3"></select><br>

<div id="result"></div>

<script>
// === FULL BRAWLER LIST ===
const brawlers = [
"None",
  "8-Bit",
  "Alli",
  "Amber",
  "Angelo",
  "Ash",
  "Barley",
  "Bea",
  "Belle",
  "Berry",
  "Bibi",
  "Bo",
  "Bonnie",
  "Brock",
  "Bull",
  "Buster",
  "Buzz",
  "Byron",
  "Carl",
  "Charlie",
  "Chester",
  "Chuck",
  "Clancy",
  "Colette",
  "Colt",
  "Cordelius",
  "Crow",
  "Darryl",
  "Doug",
  "Draco",
  "Dynamike",
  "Edgar",
  "El Primo",
  "EMZ",
  "Eve",
  "Fang",
  "Finx",
  "Frank",
  "Gale",
  "Gene",
  "Gigi",
  "Gray",
  "Griff",
  "Grom",
  "Gus",
  "Hank",
  "Jacky",
  "Jae-Yong",
  "Janet",
  "Jessie",
  "Juju",
  "Kaze",
  "Kenji",
  "Kit",
  "Larry & Lawrie",
  "Leon",
  "Lily",
  "Lola",
  "Lou",
  "Lumi",
  "Maisie",
  "Mandy",
  "Max",
  "Meg",
  "Meeple",
  "Melodie",
  "Mico",
  "Mina",
  "Mr. P",
  "Nani",
  "Nita",
  "Ollie",
  "Otis",
  "Pam",
  "Pearl",
  "Penny",
  "Pierce",
  "Piper",
  "Poco",
  "R-T",
  "Rico",
  "Rosa",
  "Ruffs",
  "Sam",
  "Sandy",
  "Shade",
  "Shelly",
  "Shock",
  "Spike",
  "Sprout",
  "Squeak",
  "Stu",
  "Surge",
  "Tara",
  "Tick",
  "Trunk",
  "Willow",
  "Ziggy"
];

// === MID / CENTER BRAWLERS ===
const MID_BRAWLERS = [
  "8-Bit",
  "Amber",
  "Ash",
  "Barley",
  "Belle",
  "Bo",
  "Byron",
  "Crow",
  "Darryl",
  "Doug",
  "EMZ",
  "Eve",
  "Finx",
  "Gene",
  "Gigi",
  "Gray",
  "Griff",
  "Grom",
  "Gus",
  "Janet",
  "Juju",
  "Kit",
  "Lily",
  "Lola",
  "Lou",
  "Lumi",
  "Maisie",
  "Mandy",
  "Max",
  "Meg",
  "Meeple",
  "Melodie",
  "Mico",
  "Mr. P",
  "Nani",
  "Pam",
  "Poco",
  "R-T",
  "Sandy",
  "Spike",
  "Tara",
  "Willow",
  "Ziggy"
];

// === LANE BRAWLERS ===
const LANE_BRAWLERS = [
  "Alli",
  "Angelo",
  "Bea",
  "Berry",
  "Bibi",
  "Bonnie",
  "Brock",
  "Buzz",
  "Carl",
  "Charlie",
  "Chester",
  "Chuck",
  "Clancy",
  "Colette",
  "Colt",
  "Cordelius",
  "Draco",
  "Dynamike",
  "Edgar",
  "El Primo",
  "Fang",
  "Frank",
  "Gale",
  "Hank",
  "Jacky",
  "Jessie",
  "Kenji",
  "Kaze",
  "Larry & Lawrie",
  "Leon",
  "Nita",
  "Ollie",
  "Otis",
  "Pearl",
  "Penny",
  "Pierce",
  "Piper",
  "Rico",
  "Rosa",
  "Ruffs",
  "Sam",
  "Shade",
  "Shelly",
  "Shock",
  "Sprout",
  "Squeak",
  "Stu",
  "Surge",
  "Tick",
  "Trunk"
];


// populate dropdowns
["enemy1","enemy2","enemy3"].forEach(id => {
    const select = document.getElementById(id);
    brawlers.forEach(b => {
        const opt = document.createElement("option");
        opt.value = b.toLowerCase();
        opt.textContent = b;
        select.appendChild(opt);
    });
});

// prevent duplicate selection
function updateDropdowns() {
    const selected = new Set([
        enemy1.value,
        enemy2.value,
        enemy3.value
    ]);

    ["enemy1","enemy2","enemy3"].forEach(id => {
        const select = document.getElementById(id);
        const currentValue = select.value;
        select.innerHTML = "";

        brawlers.forEach(b => {
            const val = b.toLowerCase();
            if (val === "none" || val === currentValue || !selected.has(val)) {
                const opt = document.createElement("option");
                opt.value = val;
                opt.textContent = b;
                select.appendChild(opt);
            }
        });

        select.value = currentValue;
    });
}

function getRole(brawler) {
    const name = brawler.toLowerCase();
    if (MID_BRAWLERS.includes(name)) return "Center";
    if (LANE_BRAWLERS.includes(name)) return "Lane";
    return "Flex";
}

function suggest() {
    const enemies = [enemy1.value, enemy2.value, enemy3.value];
    const mapType = document.getElementById("mapType").value;

    let picks = new Set();
    let laneCount = 0;
    let midCount = 0;

    function addPick(brawler) {
        if (!picks.has(brawler)) {
            picks.add(brawler);
            if (LANE_BRAWLERS.includes(brawler.toLowerCase())) laneCount++;
            if (MID_BRAWLERS.includes(brawler.toLowerCase())) midCount++;
        }
    }

    enemies.forEach(enemy => {

		if (enemy === "edgar" || enemy === "mortis" || enemy === "fang" || enemy === "sam") {
			addPick("Shelly"); // strong close-range burst
			addPick("Gale");   // mid-range control, knockback
			if (mapType !== "closed") {
				addPick("Spike");    // safe ranged poke on open maps
			} else {
				addPick("Colette");  // melee-range burst on tight/closed maps
			}
		}

        else if (
            enemy === "frank" || enemy === "bull" || enemy === "el primo" ||
            enemy === "rosa" || enemy === "jacky" || enemy === "hank" || enemy === "clancy"
        ) {
            addPick("Colette");
            addPick("Spike");
            addPick("Shelly");
            addPick("Rico");
        }

        else if (enemy === "emz") {
            if (mapType !== "closed") {
                addPick("Piper");
                addPick("Belle");
            } else {
                addPick("Mortis");
                addPick("Spike");
                addPick("Shelly");
            }
        }

        else if (
            enemy === "tick" || enemy === "dynamike" || enemy === "barley" ||
            enemy === "sprout" || enemy === "grom" || enemy === "willow" ||
            enemy === "larry & lawrie"
        ) {
            addPick("Mortis");
            addPick("Edgar");
            addPick("Mico");
        }

        else if (
            enemy === "piper" || enemy === "belle" || enemy === "mandy" || enemy === "nani"
        ) {
            if (mapType !== "closed") {
                addPick("Mortis");
                addPick("Leon");
                addPick("Edgar");
            } else {
                addPick("Spike");
                addPick("Shelly");
            }
        }

        else if (enemy === "pam" || enemy === "poco" || enemy === "doug") {
            addPick("Crow");
            addPick("Spike");
        }

        else if (
            enemy === "gene" || enemy === "sandy" || enemy === "tara" ||
            enemy === "mr. p" || enemy === "gray"
        ) {
            addPick("Crow");
            addPick("Spike");
            if (mapType !== "closed") addPick("Piper");
        }

        else if (
            enemy === "colt" || enemy === "rico" || enemy === "griff" ||
            enemy === "pearl" || enemy === "amber"
        ) {
            addPick("Spike");
            if (mapType !== "closed") addPick("Piper");
        }
    });

    // === ROLE-AWARE FALLBACK ===
    const CLOSED_LANE = ["Shelly","Colette","Clancy","Rosa"];
    const CLOSED_MID  = ["Spike","Jacky","Poco"];
    const OPEN_LANE   = ["Piper","Edgar","Mandy"];
    const OPEN_MID    = ["Spike","Mr. P","EMZ"];

    const fallbackLane = mapType === "closed" ? CLOSED_LANE : OPEN_LANE;
    const fallbackMid  = mapType === "closed" ? CLOSED_MID  : OPEN_MID;

    if (picks.size === 0) {
        addPick(fallbackMid[0]);
        addPick(fallbackLane[0]);
        addPick(fallbackLane[1]);
    }

    while (picks.size < 3) {
        if (midCount === 0) {
            fallbackMid.forEach(b => addPick(b));
        } else {
            fallbackLane.forEach(b => addPick(b));
        }
    }

    document.getElementById("result").innerText =
    "Recommended Picks:\n• " +
    [...picks]
        .map(b => `${b} (${getRole(b)})`)
        .join("\n• ");
}

// init
window.onload = () => {
    updateDropdowns();
    suggest();
};

// auto update
["enemy1","enemy2","enemy3","mapType"].forEach(id => {
    document.getElementById(id).addEventListener("change", () => {
        updateDropdowns();
        suggest();
    });
});
</script>

</body>
</html>















