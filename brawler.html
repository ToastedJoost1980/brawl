<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="apple-touch-icon" href="icon.png">
<title>Brawlers Nightmare</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #0e0e0e;
    color: #eee;
    font-size: 50px;
    padding: 15px;
}
select {
    padding: 25px;
    font-size: 50px;
    margin: 20px 0;
    width: 400px;
}
#result {
    margin-top: 20px;
    font-size: 50px;
    color: #00ff99;
    white-space: pre-line;
}
    /* === FORCE PORTRAIT EXPERIENCE === */
@media screen and (orientation: landscape) {
    body {
        display: none;
    }

    html::before {
        content: "Please rotate your device to portrait ðŸ“±";
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        font-size: 40px;
        color: #00ff99;
        background: #0e0e0e;
        text-align: center;
        padding: 40px;
    }
}
</style>
</head>

<body>

<p>Select map type:</p>
<select id="mapType">
    <option value="open">Open Map</option>
    <option value="closed">Closed Map</option>
</select><br><br>

<p>Select the enemy team:</p>
<select id="enemy1"></select><br>
<select id="enemy2"></select><br>
<select id="enemy3"></select><br>

<div id="result"></div>

<script>
// === FULL BRAWLER LIST ===
const brawlers = [
"None",
"8-Bit","Amber","Ash","Barley","Bea","Belle","Bibi","Bo","Bonnie","Bull",
"Carl","Charlie","Chester","Chuck","Clancy","Colette","Colt","Cordelius","Crow",
"Darryl","Doug","Dynamike","Edgar","El Primo","EMZ","Eve","Fang","Frank","Gale",
"Gene","Gray","Griff","Grom","Hank","Jacky","Janet","Jessie","Kit",
"Larry & Lawrie","Leon","Lola","Lou","Maisie","Mandy","Max","Meg","Mico",
"Mortis","Mr. P","Nani","Otis","Pam","Pearl","Penny","Piper","Poco",
"R-T","Rico","Rosa","Sam","Sandy","Shelly","Spike","Sprout","Squeak",
"Stu","Surge","Tara","Tick","Willow"
];

// === ROLE DEFINITIONS ===
const MID_BRAWLERS = [
"gene","sandy","tara","mr. p","lou","r-t",
"pam","belle","spike","poco","max"
];

const LANE_BRAWLERS = [
"carl","rosa","bibi","sam","ash",
"edgar","mortis","leon",
"piper","bea","mandy",
"bull","jacky","el primo","colette","clancy"
];

// populate dropdowns
["enemy1","enemy2","enemy3"].forEach(id => {
    const select = document.getElementById(id);
    brawlers.forEach(b => {
        const opt = document.createElement("option");
        opt.value = b.toLowerCase();
        opt.textContent = b;
        select.appendChild(opt);
    });
});

// prevent duplicate selection
function updateDropdowns() {
    const selected = new Set([
        enemy1.value,
        enemy2.value,
        enemy3.value
    ]);

    ["enemy1","enemy2","enemy3"].forEach(id => {
        const select = document.getElementById(id);
        const currentValue = select.value;
        select.innerHTML = "";

        brawlers.forEach(b => {
            const val = b.toLowerCase();
            if (val === "none" || val === currentValue || !selected.has(val)) {
                const opt = document.createElement("option");
                opt.value = val;
                opt.textContent = b;
                select.appendChild(opt);
            }
        });

        select.value = currentValue;
    });
}

function getRole(brawler) {
    const name = brawler.toLowerCase();
    if (MID_BRAWLERS.includes(name)) return "Center";
    if (LANE_BRAWLERS.includes(name)) return "Lane";
    return "Flex";
}

function suggest() {
    const enemies = [enemy1.value, enemy2.value, enemy3.value];
    const mapType = document.getElementById("mapType").value;

    let picks = new Set();
    let laneCount = 0;
    let midCount = 0;

    function addPick(brawler) {
        if (!picks.has(brawler)) {
            picks.add(brawler);
            if (LANE_BRAWLERS.includes(brawler.toLowerCase())) laneCount++;
            if (MID_BRAWLERS.includes(brawler.toLowerCase())) midCount++;
        }
    }

    enemies.forEach(enemy => {

        if (enemy === "edgar" || enemy === "mortis" || enemy === "fang" || enemy === "sam") {
            addPick("Shelly");
            addPick("Gale");
            addPick("Otis");
        }

        else if (
            enemy === "frank" || enemy === "bull" || enemy === "el primo" ||
            enemy === "rosa" || enemy === "jacky" || enemy === "hank" || enemy === "clancy"
        ) {
            addPick("Colette");
            addPick("Spike");
            addPick("Shelly");
            addPick("Rico");
        }

        else if (enemy === "emz") {
            if (mapType !== "closed") {
                addPick("Piper");
                addPick("Belle");
            } else {
                addPick("Mortis");
                addPick("Spike");
                addPick("Shelly");
            }
        }

        else if (
            enemy === "tick" || enemy === "dynamike" || enemy === "barley" ||
            enemy === "sprout" || enemy === "grom" || enemy === "willow" ||
            enemy === "larry & lawrie"
        ) {
            addPick("Mortis");
            addPick("Edgar");
            addPick("Mico");
        }

        else if (
            enemy === "piper" || enemy === "belle" || enemy === "mandy" || enemy === "nani"
        ) {
            if (mapType !== "closed") {
                addPick("Mortis");
                addPick("Leon");
                addPick("Edgar");
            } else {
                addPick("Spike");
                addPick("Shelly");
            }
        }

        else if (enemy === "pam" || enemy === "poco" || enemy === "doug") {
            addPick("Crow");
            addPick("Spike");
        }

        else if (
            enemy === "gene" || enemy === "sandy" || enemy === "tara" ||
            enemy === "mr. p" || enemy === "gray"
        ) {
            addPick("Crow");
            addPick("Spike");
            if (mapType !== "closed") addPick("Piper");
        }

        else if (
            enemy === "colt" || enemy === "rico" || enemy === "griff" ||
            enemy === "pearl" || enemy === "amber"
        ) {
            addPick("Spike");
            if (mapType !== "closed") addPick("Piper");
        }
    });

    // === ROLE-AWARE FALLBACK ===
    const CLOSED_LANE = ["Shelly","Colette","Clancy","Rosa"];
    const CLOSED_MID  = ["Spike","Mr. P","Poco"];
    const OPEN_LANE   = ["Crow","Edgar","Mandy"];
    const OPEN_MID    = ["Spike","Gene","Piper"];

    const fallbackLane = mapType === "closed" ? CLOSED_LANE : OPEN_LANE;
    const fallbackMid  = mapType === "closed" ? CLOSED_MID  : OPEN_MID;

    if (picks.size === 0) {
        addPick(fallbackMid[0]);
        addPick(fallbackLane[0]);
        addPick(fallbackLane[1]);
    }

    while (picks.size < 3) {
        if (midCount === 0) {
            fallbackMid.forEach(b => addPick(b));
        } else {
            fallbackLane.forEach(b => addPick(b));
        }
    }

    document.getElementById("result").innerText =
    "Recommended Picks:\nâ€¢ " +
    [...picks]
        .map(b => `${b} (${getRole(b)})`)
        .join("\nâ€¢ ");
}

// init
window.onload = () => {
    updateDropdowns();
    suggest();
};

// auto update
["enemy1","enemy2","enemy3","mapType"].forEach(id => {
    document.getElementById(id).addEventListener("change", () => {
        updateDropdowns();
        suggest();
    });
});
</script>

</body>
</html>







